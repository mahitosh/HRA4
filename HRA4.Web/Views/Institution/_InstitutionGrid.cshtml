@model IEnumerable<HRA4.ViewModels.Appointment>
@{
    Layout = null;
}
@*<link href="~/css/tablesorter.css" rel="stylesheet" />*@

<table id="myTable" class="table table-striped apppointment-table">
    <thead>
        <tr>
            <th class="">
                Name
            </th>
            <th>
                MRN
            </th>
            <th>
                DOB
            </th>
            <th>
               App Date/Time
            </th>
            <th>
                Provider
            </th>
            <th>
                Date Completed
                
            </th>
            <th>
                Disease Hx
                
            </th>
            <th>
                Survey
                
            </th>
            <th>
                DNC
            </th>
            <th>
                Quick Actions
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.PatientName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MRN)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DateOfBirth)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.AppointmentDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Provider)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DateCompleted)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DiseaseHx)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Survey)
                </td>
                <td>

                    @*@Html.DisplayFor(modelItem => item.DoNotCall)*@

                    @{ 
                        var url = "";
                        if (item.DoNotCall == true)
                            
                       {

                           url = Url.Content("~/images/DNC-N-ico.svg");

                       }
                       else
                       {
                           url = Url.Content("~/images/DNC-Y-ico.svg");
                       
                       }
                       
                            }
                    <div style="display:none" >@item.DoNotCall</div> 
                    <img src="@url" alt="Do not call" width="30" height="30" data-toggle="tooltip" data-placement="top" title="Add to Do Not Call list." onclick="SearchAppointment('@item.DoNotCall.ToString()','@item.MRN.ToString()','@item.Id.ToString()');" />
                </td>
                <td>
                    @*@Html.ActionLink("Test", "AddTask")*@
                    <a href="#"><img src="~/images/refresh-grid-ico.svg" alt="Refresh" width="30" height="30" data-toggle="tooltip" data-placement="top" title="Run automation document" /></a>
                    <a href="#"><img src="~/images/copy-grid-ico.svg" alt="Refresh" width="30" height="30" data-toggle="tooltip" data-placement="top" title="Copy Appointment" /></a>
                    <a href="#"><img src="~/images/edit-grid-ico.svg" alt="Refresh" width="30" height="30" data-toggle="tooltip" data-placement="top" title="Edit Appointment" /></a>
                </td>
            </tr>

        }
    </tbody>
</table><!--schedule list end here-->
<script type="text/javascript">

    $(document).ready(function () {
        $("#myTable").tablesorter();
    });

   


</script>